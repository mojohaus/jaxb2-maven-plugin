<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 at 2019-07-09 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20190709" />
    <meta http-equiv="Content-Language" content="en" />
    <title>JAXB-2 Maven Plugin &#x2013; Basic Examples - Java Generation</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/mojohaus/jaxb2-maven-plugin">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://www.mojohaus.org/" id="bannerLeft">
                                                                                        <img src="http://www.mojohaus.org/images/mojo_logo.png"  alt="MojoHaus"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                              <li class="">
                    <a href="http://www.mojohaus.org/" class="externalLink" title="MojoHaus">
        MojoHaus</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="http://www.mojohaus.org/mojo-parent" class="externalLink" title="MojoHaus Parent">
        MojoHaus Parent</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="index.html" title="JAXB-2 Maven Plugin">
        JAXB-2 Maven Plugin</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Basic Examples - Java Generation</li>
        
              
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2019-07-09</li>
              <li id="projectVersion" class="pull-right">
                      <span class="divider">|</span>
                    Version: 2.5.0
        </li>
            
                                    
    <li class="pull-right">
                      <a href="http://maven.apache.org/" class="externalLink" title="Maven">
        Maven</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="plugin-info.html" title="Goals">
          <span class="none"></span>
        Goals</a>
            </li>
                
      <li>
  
                          <a href="filters.html" title="Filters">
          <span class="none"></span>
        Filters</a>
            </li>
                
      <li>
  
                          <a href="faq.html" title="FAQ">
          <span class="none"></span>
        FAQ</a>
            </li>
                              <li class="nav-header">Examples</li>
                              
      <li class="active">
  
            <a href="#"><span class="none"></span>XJC: Usage</a>
          </li>
                
      <li>
  
                          <a href="example_schemagen_basic.html" title="Schemagen: Usage">
          <span class="none"></span>
        Schemagen: Usage</a>
            </li>
                
      <li>
  
                          <a href="example_schemagen_postprocessing.html" title="Schemagen: Post-processing">
          <span class="none"></span>
        Schemagen: Post-processing</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                    
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
              
                            <form id="search-form" action="https://www.google.com/search" method="get" >
    
  <input value="www.mojohaus.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="https://cse.google.com/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Basic Examples - Java Generation</h1>
<blockquote>

<p><b>Note</b>: These examples are valid for the 2.x version of the plugin, and do not necessarily work for the jaxb2-maven-plugin version 1.x</p>
</blockquote>
<p>These basic examples show how to generate Java code from JAXB using the jaxb2-maven-plugin, and highlight the use of some of the plugin&#x2019;s common configuration options.</p>
<p>This plugin runs the XJC binding compiler from the JAXB distribution, and integrates XJC&#x2019;s configuration properties into a Maven project. The plugin will delegate all JAXB-related work to its <a href="./dependencies.html">JAXB implementation dependencies</a>. The actual JAXB dependencies used when compiling the plugin will also be collected and listed when the plugin is run in debug mode.</p>
<p>Due to the construction of the Java platform the JAXB API used is the one defined by the platform. This means that the used JAXB API version will be the endorsed one of the JDK, regardless of what is specified in the plugin (or its dependencies). You may override the endorsed API outside of Maven and this plugin, but that is typically viewed as advanced usage. A better option is to align the version of the compiled code with the requirement on the JAXB runtime environment of the generated code.</p>
<p><b>Note</b>: The plugin currently requires that you run it from within the maven project directory, i.e. where the <tt>pom.xml</tt> file resides. If the project is part of a multi-module Maven build, Maven will take care of this for you.</p>
<div class="section">
<h2><a name="Standard_.28implicit.29_configuration"></a>Standard (implicit) configuration</h2>
<p>To find which files should be included within an XJC compilation the jaxb2-maven-plugin uses the following algorithm. Note that the find-and-filter algorithm is applied to find both XSD files and XJB files.</p>
<ol style="list-style-type: decimal">

<li>Find source files. Source files are either given as an explicit path, or found by recursively listing all files below a source directory given as an explicit path. For example, if <tt>&lt;source&gt;src/main/xsd&lt;/source&gt;</tt> is the relative path to a directory, all files within it would be found.</li>
<li>Filter source files. A (set of) exclude Filters are applied to each found source file. Any file matching at least one Filter is excluded from the XJC compilation.</li>
</ol>
<img src="images/plantuml/sourceAndExcludeFilter.png" alt="" />  

<p>Unless overridden by the configuration, the following settings are used by default:</p>
<ol style="list-style-type: decimal">

<li>The <tt>src/main/xsd</tt> directory (including subdirectories) is expected to contain compile-scope XSD files, as documented within the <tt>XjcMojo.STANDARD_SOURCE_DIRECTORY</tt> property. By default, files matching some Java Regexp patterns are excluded from the XJC compilation. The default exclude patterns are <tt>&quot;README.*&quot;, &quot;\.xml&quot;, &quot;\.txt&quot;, &quot;\.java&quot;, &quot;\.scala&quot;, &quot;\.mdo&quot;</tt>.</li>
<li>The <tt>src/test/xsd</tt> directory (including subdirectories) is expected to contain test-scope XSD files, as documented within the <tt>TestXjcMojo.STANDARD_TEST_SOURCE_DIRECTORY</tt> property. By default, files matching some Java Regexp patterns are excluded from the XJC compilation. The default exclude patterns are <tt>&quot;README.*&quot;, &quot;\.xml&quot;, &quot;\.txt&quot;, &quot;\.java&quot;, &quot;\.scala&quot;, &quot;\.mdo&quot;</tt>.</li>
<li>The <tt>src/main/xjb</tt> directory (including subdirectories) is expected to contain compile-scope XJB files, as documented within the <tt>XjcMojo.STANDARD_XJB_DIRECTORY</tt> property. By default, files matching some Java Regexp patterns are excluded from the XJC compilation. The default exclude patterns are <tt>&quot;README.*&quot;, &quot;\\.xml&quot;, &quot;\\.txt&quot;, &quot;\\.xsd&quot;</tt>.</li>
<li>The <tt>src/test/xjb</tt> directory (including subdirectories) is expected to contain test-scope XJB files, as documented within the <tt>TestXjcMojo.STANDARD_TEST_XJB_DIRECTORY</tt> property. By default, files matching some Java Regexp patterns are excluded from the XJC compilation. The default exclude patterns are <tt>&quot;README.*&quot;, &quot;\\.xml&quot;, &quot;\\.txt&quot;, &quot;\\.xsd&quot;</tt>.</li>
</ol>
<p>The standard behavior can be overridden by the following elements:</p>
<ol style="list-style-type: decimal">

<li><tt>sources</tt> - replace <tt>src/main/xsd</tt> as the directory containing XSD files</li>
<li><tt>xjbSource</tt> - replace <tt>src/main/xjb</tt> as the directory containing XJB files</li>
<li><tt>xjcSourceExcludeFilters</tt> - replace the default Filters for XSD file exclusions</li>
<li><tt>xjbExcludeFilters</tt> - replace the default Filters for the XJB file exclusions</li>
</ol>
<p>For test-scope XJC compilation, the following configuration elements can be used to override the default behavior:</p>
<ol style="list-style-type: decimal">

<li><tt>testSources</tt> - replace <tt>src/test/xsd</tt> as the directory containing (test-scope) XSD files</li>
<li><tt>testXjbSources</tt> - replace <tt>src/test/xjb</tt> as the directory containing (test-scope) XJB files</li>
<li><tt>testSourceExcludeFilters</tt> - replace the default Filters for (test-scope) XSD exclusions</li>
<li><tt>testXjbExcludeFilters</tt> - replace the default Filters for (test-scope) XJB exclusions.</li>
</ol>
<p>These configuration options are illustrated within the examples below. Also, feel free to investigate the integration tests of the plugin itself.</p></div>
<div class="section">
<h2><a name="Example_1:_Generate_Java_code_within_provided_package"></a>Example 1: Generate Java code within provided package</h2>
<p>The plugin will process all XSD files found within the <a href="xjc-mojo.html#sources">source directories</a>, and create Java source code in the given package (<tt>com.example.myschema</tt>) as defined by the <tt>packageName</tt> configuration parameter. The required JAXB runtime version of the generated code will be the same as the plugin&#x2019;s JAXB implementation dependency (see the <a href="./xjc-mojo.html#target">target parameter</a>).</p>

<div>
<div>
<pre class="source">&lt;project&gt;
...
&lt;dependencies&gt;
    &lt;!--
        You need the JAXB API to be able to annotate your classes.
        However, starting with Java 6 that API is included in the
        Java SE platform so there is no need to declare a dependency.
    --&gt;
    ...
&lt;/dependencies&gt;
...
&lt;build&gt;
    &lt;pluginManagement&gt;
        &lt;plugins&gt;
            &lt;!--
                If we e.g. execute on JDK 1.7, we should compile for Java 7 to get
                the same (or higher) JAXB API version as used during the xjc execution.
            --&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;source&gt;1.7&lt;/source&gt;
                    &lt;target&gt;1.7&lt;/target&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/pluginManagement&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;${project.version}&lt;/version&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;xjc&lt;/id&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;xjc&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
            &lt;configuration&gt;
                &lt;!-- The package of your generated sources --&gt;
                &lt;packageName&gt;com.example.myschema&lt;/packageName&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
        ...
    &lt;/plugins&gt;
&lt;/build&gt;
...
&lt;/project&gt;
</pre></div></div>
</div>
<div class="section">
<h2><a name="Example_2:_Aligning_JDK_with_JAXB_API_and_JAXB_runtime_environment"></a>Example 2: Aligning JDK with JAXB API and JAXB runtime environment</h2>
<p>So you want to use JAXB on JDK 1.6? You would then need to configure the jaxb2-maven-plugin for a Java 6+ project, which implies two separate configuration properties:</p>
<ol style="list-style-type: decimal">

<li><i>maven-compiler-plugin</i>: Define java version 1.6 for the compiler, to use the Java 6+ platform as the runtime environment for the compiled code. Use 1.6 for both the <tt>source</tt> and <tt>target</tt> properties.</li>
<li><i>jaxb-maven-plugin</i>: Use the <tt>target</tt> configuration parameter to set the JAXB runtime version to 2.1, which is included in the JDK 1.6 (starting with JDK 1.6u4).</li>
</ol>
<p>The project can now be built with JDK 1.6.</p>

<div>
<div>
<pre class="source">&lt;project&gt;
    ...
    &lt;build&gt;
        &lt;pluginManagement&gt;
            &lt;plugins&gt;
                &lt;plugin&gt;
                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
                    &lt;configuration&gt;
                        &lt;source&gt;1.6&lt;/source&gt;
                        &lt;target&gt;1.6&lt;/target&gt;
                    &lt;/configuration&gt;
                &lt;/plugin&gt;
            &lt;/plugins&gt;
        &lt;/pluginManagement&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;${project.version}&lt;/version&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;xjc&lt;/id&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;xjc&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
                &lt;configuration&gt;
                    &lt;target&gt;2.1&lt;/target&gt;
                    ...
                &lt;/configuration&gt;
            &lt;/plugin&gt;
            ...
        &lt;/plugins&gt;
    &lt;/build&gt;
    ...
&lt;/project&gt;
</pre></div></div>
</div>
<div class="section">
<h2><a name="Example_3:_Using_another_type_of_input_source"></a>Example 3: Using another type of input source</h2>
<p>Normally, you would use XML Schema Definitions as the standard type of JAXB source. However, other standards can be used as source type provided that the configuration parameter <tt>sourceType</tt> is assigned one of the existing values of the <a class="externalLink" href="http://mojo.codehaus.org/jaxb2-maven-plugin/apidocs/org/codehaus/mojo/jaxb2/javageneration/SourceContentType.html">org.codehaus.mojo.jaxb2.javageneration.SourceContentType</a> enum. In the example below, the source files contain <a class="externalLink" href="http://en.wikipedia.org/wiki/Document_type_definition">Document Type Descriptions</a> instead of XML Schema, and they are placed within the <tt>src/main/dtd</tt> directory.</p>
<p>Note that the <tt>sourceType</tt> configuration parameter is case sensitive for matching the enum values. Refer to the plugin&#x2019;s <a href="./apidocs/index.html">JavaDoc</a> to see all possible values.</p>

<div>
<div>
<pre class="source">        &lt;plugin&gt;
            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;${project.version}&lt;/version&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;xjc&lt;/id&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;xjc&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
            &lt;configuration&gt;
                &lt;!-- Set the package of the generated code --&gt;
                &lt;packageName&gt;com.example.myschema&lt;/packageName&gt;

                &lt;!-- Indicate that we should use DTD input instead of XSDs --&gt;
                &lt;sourceType&gt;dtd&lt;/sourceType&gt;

                &lt;!-- Define the directory where we should find the DTD files --&gt;
                &lt;sources&gt;
                    &lt;source&gt;src/main/dtd&lt;/source&gt;
                &lt;/sources&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
</pre></div></div>
</div>
<div class="section">
<h2><a name="Example_4:_Defining_sources_and_XJC_exclude_filters"></a>Example 4: Defining sources and XJC exclude filters</h2>
<p>By default, the jaxb2-maven-plugin examines the directory <tt>src/main/xsd</tt> for XSD files which should be used by JAXB to create Java source code (and <tt>src/test/xsd</tt> for test XSD sources). If you would like to place your XSD somewhere else, you need to define source elements as shown in the configuration below. The paths given are interpreted relative to the <tt>basedir</tt> property, which is set to reference the maven project directory.</p>
<p>Files found (using a recursive search) within the sources elements are read and used by the XJC tool only if they are <b>not</b> matched by any xjcSourceExcludeFilters. Therefore, the configuration below should include <tt>src/main/some/other/xsds/aFile.txt</tt> as an XSD source, but exclude <tt>src/main/some/other/xsds/thisIsASource.xsd</tt> due to the pattern definition <tt>&lt;pattern&gt;\.xsd&lt;/pattern&gt;</tt>. (For a full explanation of filters, please refer to the <a href="./filters.html">Filters</a> documentation).</p>

<div>
<div>
<pre class="source">        &lt;plugin&gt;
            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;${project.version}&lt;/version&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;xjc&lt;/id&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;xjc&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
            &lt;configuration&gt;
                &lt;!--
                    Include the sources from 3 locations:
                    1) a directory (including recursively finding all files in it)
                    2) an explicitly named file
                    3) a non-existent path, which is silently ignored
                --&gt;
                &lt;sources&gt;
                    &lt;source&gt;src/main/some/other/xsds&lt;/source&gt;
                    &lt;source&gt;src/main/foo/gnat.xsd&lt;/source&gt;
                    &lt;source&gt;src/main/a/nonexistent/path&lt;/source&gt;
                &lt;/sources&gt;
                &lt;!--
                    When providing xjcSourceExcludeFilters, the default exclude
                    Filter definitions are overridden by the Patterns supplied.

                    Any filter whose path ends with any of the Java Regular Expression Patterns
                    supplied will be excluded from the XJC sources. In this example,
                    files found under any of the source directories will be excluded from XJC
                    processing if their full paths end with '.xsd' or '.foo'
                --&gt;
                &lt;xjcSourceExcludeFilters&gt;
                    &lt;filter implementation=&quot;org.codehaus.mojo.jaxb2.shared.filters.pattern.PatternFileFilter&quot;&gt;
                        &lt;patterns&gt;
                            &lt;pattern&gt;\.xsd&lt;/pattern&gt;
                            &lt;pattern&gt;\.foo&lt;/pattern&gt;
                        &lt;/patterns&gt;
                    &lt;/filter&gt;
                &lt;/xjcSourceExcludeFilters&gt;
                &lt;!--
                    Package name of the generated sources.
                --&gt;
                &lt;packageName&gt;se.west&lt;/packageName&gt;

                &lt;!--
                    Copy all source XSDs into the generate artifact.
                    Place them at the supplied xsdPathWithinArtifact, that is within the given directory.
                --&gt;
                &lt;xsdPathWithinArtifact&gt;source/xsds&lt;/xsdPathWithinArtifact&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
</pre></div></div>

<p>Unless xjcSourceExclude filters are given, standard excludes are in effect. These are:</p>
<ol style="list-style-type: decimal">

<li>Files with the name &#x201c;README.*&#x201d;</li>
<li>Files with the suffixes &#x201c;.xml&#x201d;, &#x201c;.txt&#x201d; or &#x201c;.xjb&#x201d;</li>
<li>Files or Directories whose names starts with &#x201c;.&#x201d; (normally this implies hidden directories and setting files)</li>
<li>Directories with the name &#x201c;CVS&#x201d;</li>
</ol></div>
<div class="section">
<h2><a name="Example_5:_Multiple_schemas_with_different_configuration"></a>Example 5: Multiple schemas with different configuration</h2>
<p>In the case of having multiple XML schema files which should be processed with different configuration, you need to have multiple plugin execution bindings. One execution binding per unique configuration, as shown in the snippet below:</p>

<div>
<div>
<pre class="source">&lt;plugin&gt;
    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;id&gt;xjc-schema1&lt;/id&gt;
            &lt;goals&gt;
                &lt;goal&gt;xjc&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;!-- Use all XSDs under the west directory for sources here. --&gt;
                &lt;sources&gt;
                    &lt;source&gt;src/main/xsds/west&lt;/source&gt;
                &lt;/sources&gt;

                &lt;!-- Package name of the generated sources. --&gt;
                &lt;packageName&gt;se.west&lt;/packageName&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;
        &lt;execution&gt;
            &lt;id&gt;xjc-schema2&lt;/id&gt;
            &lt;goals&gt;
                &lt;goal&gt;xjc&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;!-- Use all XSDs under the east directory for sources here. --&gt;
                &lt;sources&gt;
                    &lt;source&gt;src/main/xsds/east&lt;/source&gt;
                &lt;/sources&gt;

                &lt;!-- Package name of the generated sources. --&gt;
                &lt;packageName&gt;se.east&lt;/packageName&gt;

                &lt;!--
                    Don't clear the output directory before generating the sources.
                    Clearing the output directory removes the se.west schema from above.
                --&gt;
                &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
</pre></div></div>
</div>
<div class="section">
<h2><a name="Example_6:_Using_an_XML_Java_Binding_file_.28.E2.80.9CXJB.E2.80.9D.29"></a>Example 6: Using an XML Java Binding file (&#x201c;XJB&#x201d;)</h2>
<p>By default, the XjcMojo searches directory <tt>src/main/xjb</tt> (and the XjcTestMojo searches <tt>src/test/xjb</tt>) for external XML schema generation binding files. Such files are used to control many aspects of the Java generation from XSD files; please refer to the <a class="externalLink" href="https://jaxb.java.net/">JAXB Reference Implementation</a> for full details. However, a small XJB file is found below.</p>

<div>
<div>
<pre class="source">    &lt;jxb:bindings version=&quot;1.0&quot;
                   xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;
                   xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;

        &lt;!--
            Change since version 2.0 of the j-m-p:

            Note that the schemaLocation path must point to the XSD file
            relative to *this* file, rather than the basedir.
        --&gt;
      &lt;jxb:bindings schemaLocation=&quot;../xsd/address.xsd&quot; node=&quot;//xsd:schema&quot;&gt;
          &lt;jxb:schemaBindings&gt;
             &lt;jxb:package name=&quot;com.example.myschema&quot;/&gt;
          &lt;/jxb:schemaBindings&gt;
      &lt;/jxb:bindings&gt;

    &lt;/jxb:bindings&gt;
</pre></div></div>

<p>The JXB file above defines the package of the generated Java source code found in the XSD file <tt>../xsd/address.xsd</tt>, relative to the JXB file above. This implies that each JXB file must contain a path to the XSD files they tailor. Each file found under within the JXB source directories is considered a JXB file, unless it is excluded by means of an xjbExcludeFilter. A sample xjbExcludeFilter is found below; any file matching an xjbExcludeFilter is not used as a binding file in the XJC compilation, implying that any file found within the standard XJB directory/directories are not used if it ends with <tt>.txt</tt> or <tt>.xsd</tt>:</p>

<div>
<div>
<pre class="source">    &lt;configuration&gt;
        ...
        &lt;xjbExcludeFilters&gt;
            &lt;filter implementation=&quot;org.codehaus.mojo.jaxb2.shared.filters.pattern.PatternFileFilter&quot;&gt;
                &lt;patterns&gt;
                    &lt;pattern&gt;\.txt&lt;/pattern&gt;
                    &lt;pattern&gt;\.xsd&lt;/pattern&gt;
                &lt;/patterns&gt;
            &lt;/filter&gt;
        &lt;/xjbExcludeFilters&gt;
        ...
    &lt;/configuration&gt;
</pre></div></div>

<p>Just like the XJC source files, you can change the directories where the XjcMojo searches for binding files by using the xjbSources configuration parameter. Each <tt>xjbSource</tt> element can be a relative path to a directory (in which case all its files are searched and included recursively) or explicit files:</p>

<div>
<div>
<pre class="source">    &lt;configuration&gt;
    ...
        &lt;xjbSources&gt;
            &lt;xjbSource&gt;src/dataexchange/special/aBindingConfiguration.xjb&lt;/xjbSource&gt;
            &lt;xjbSource&gt;src/dataexchange/xjbs&lt;/xjbSource&gt;
        &lt;/xjbSources&gt;
    ...
    &lt;/configuration&gt;
</pre></div></div>

<p>Unless xjbExcludes filters are given, standard excludes are in effect. These are:</p>
<ol style="list-style-type: decimal">

<li>Files with the name &#x201c;README.*&#x201d;</li>
<li>Files with the suffixes &#x201c;.xml&#x201d;, &#x201c;.txt&#x201d; or &#x201c;.xsd&#x201d;</li>
<li>Files or Directories whose names starts with &#x201c;.&#x201d; (normally this implies hidden directories and setting files)</li>
<li>Directories with the name &#x201c;CVS&#x201d;</li>
</ol></div>
<div class="section">
<h2><a name="Example_7:_Debugging_jaxb2-maven-plugin_executions"></a>Example 7: Debugging jaxb2-maven-plugin executions</h2>
<p>If you are curious about the exact java regexp patterns used for matching your files, or simply want to see what the jaxb2-maven-plugin does internally, run the plugin in debug mode by adding the <tt>-X</tt> switch. The debug log contains somewhat human-friendly log entries which contains the XJC arguments synthesized by the jaxb2-maven-plugin and supplied in order:</p>

<div>
<div>
<pre class="source">    +=================== [11 XJC Arguments]
    |
    | [0]: -xmlschema
    | [1]: -encoding
    | [2]: UTF-8
    | [3]: -p
    | [4]: com.example.myschema
    | [5]: -d
    | [6]: /Users/lj/Development/Projects/Codehaus/github_jaxb2_plugin/target/it/xjc-main/target/generated-sources/jaxb
    | [7]: -extension
    | [8]: -episode
    | [9]: /Users/lj/Development/Projects/Codehaus/github_jaxb2_plugin/target/it/xjc-main/target/generated-sources/jaxb/META-INF/sun-jaxb.episode
    | [10]: src/main/xsd/address.xsd
    |
    +=================== [End 11 XJC Arguments]
</pre></div></div>

<p>If you would like to run XJC manually in the same way as the jaxb2-maven-plugin runs the tool, simply paste the arguments given in the debug listing into a shell (separate with spaces).</p>
<p>The debug log also shows the configuration and result of the configured PatternFileFilters; as shown in the listing below, two PatternFileFilters containing 3 java regular expression patterns each are applied to the files found below the standard directory <tt>src/main/xsd</tt>. The listing shows the java regexps in use, and the resulting file after removing all files identified by the two PatternFileFilters:</p>

<div>
<div>
<pre class="source">    +=================== [Filtered sources]
    |
    | 2 Exclude patterns:
    | [1/2]: Filter [PatternFileFilter]
    |        Processes nulls: [false]
    |        Accept on match: [true]
    |        3 regularExpressions ...
    |         [0/3]: (\p{javaLetterOrDigit}|\p{Punct})+README.*
    |         [1/3]: (\p{javaLetterOrDigit}|\p{Punct})+\.xml
    |         [2/3]: (\p{javaLetterOrDigit}|\p{Punct})+\.txt
    | [2/2]: Filter [PatternFileFilter]
    |        Processes nulls: [false]
    |        Accept on match: [true]
    |        1 regularExpressions ...
    |         [0/1]: (\p{javaLetterOrDigit}|\p{Punct})+\.xjb
    |
    | 1 Standard Directories:
    | [1/1]: src/main/xsd
    |
    | 1 Results:
    | [1/1]: file:/Users/lj/Development/Projects/Codehaus/github_jaxb2_plugin/target/it/xjc-main/src/main/xsd/address.xsd
    |
    +=================== [End Filtered sources]
</pre></div></div>

<p>Also, the jaxb2-maven-plugin debug log contains debug log statements emitted from the underlying tools themselves (SchemaGen or XJC). These statements may be formatted in somewhat strange ways, but starts with the name of the tool encased in brackets. As illustrated below, the XJC tool emitted debug statements, one of which is from the allowExternalAccess method indicating that the property <tt>http://javax.xml.XMLConstants/property/accessExternalSchema</tt> is supported and successfully set:</p>

<div>
<div>
<pre class="source">    [DEBUG] Using explicitly configured encoding [UTF-8]
    [DEBUG] [XJC]: feb 03, 2015 3:39:32 EM com.sun.xml.bind.v2.util.XmlFactory createSchemaFactory
    FINE: SchemaFactory instance: com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory@5b6813df

    [DEBUG] [XJC]: feb 03, 2015 3:39:32 EM com.sun.xml.bind.v2.util.XmlFactory allowExternalAccess
    FINE: Property &quot;http://javax.xml.XMLConstants/property/accessExternalSchema&quot; is supported and has been
    successfully set by used JAXP implementation.
</pre></div></div>

<p>Yes &#x2026; you get the timestamp for free &#x2026;</p>
<h1>Example 8: Setting the locale for the XJC execution</h1>
<p>If you require the XJC tool to be executed with a default Locale other than your standard default Locale, simply use the <tt>locale</tt> configuration parameter and supply a string parseable to a Locale on the form <tt>&lt;language&gt;[,&lt;country&gt;[,&lt;variant&gt;]]</tt>. For example, to generate the XJC using french locale despite running Maven with another Locale, configure the jaxb2-maven-plugin as follows:</p>

<div>
<div>
<pre class="source">        &lt;plugin&gt;
            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;xjc&lt;/id&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;xjc&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
            &lt;configuration&gt;
                &lt;packageName&gt;com.example.myschema&lt;/packageName&gt;
                &lt;addGeneratedAnnotation&gt;true&lt;/addGeneratedAnnotation&gt;
                &lt;locale&gt;fr&lt;/locale&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
</pre></div></div>

<p>The generated source code will contain french comments:</p>

<div>
<div>
<pre class="source">/**
 * &lt;p&gt;Classe Java pour AddressType complex type.
 * 
 * &lt;p&gt;Le fragment de sch&#xe9;ma suivant indique le contenu attendu figurant dans cette classe.
 * 
 * &lt;pre&gt;
 * &amp;lt;complexType name=&quot;AddressType&quot;&amp;gt;
 *   &amp;lt;complexContent&amp;gt;
 *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&amp;gt;
 *       &amp;lt;sequence&amp;gt;
 *         &amp;lt;element name=&quot;Name&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot;/&amp;gt;
 *         &amp;lt;element name=&quot;Line1&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot;/&amp;gt;
 *         &amp;lt;element name=&quot;Line2&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot;/&amp;gt;
 *         &amp;lt;element name=&quot;City&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot;/&amp;gt;
 *         &amp;lt;element name=&quot;State&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot;/&amp;gt;
 *         &amp;lt;element name=&quot;ZipCode&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}decimal&quot;/&amp;gt;
 *       &amp;lt;/sequence&amp;gt;
 *     &amp;lt;/restriction&amp;gt;
 *   &amp;lt;/complexContent&amp;gt;
 * &amp;lt;/complexType&amp;gt;
 * &lt;/pre&gt;
 * 
 * 
 */
@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = &quot;AddressType&quot;, propOrder = {
    &quot;name&quot;,
    &quot;line1&quot;,
    &quot;line2&quot;,
    &quot;city&quot;,
    &quot;state&quot;,
    &quot;zipCode&quot;
})
@Generated(value = &quot;com.sun.tools.xjc.Driver&quot;, date = &quot;2015-07-12T08:33:24+02:00&quot;, comments = &quot;JAXB RI v2.2.11&quot;)
public class AddressType { .... }
</pre></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2005&#x2013;2019
                        <a href="http://www.mojohaus.org">MojoHaus</a>.
            All rights reserved.    
      </p>
                </div>

        
          
    
    
                
    <div id="ohloh" class="pull-right">
      <script type="text/javascript" src="https://www.ohloh.net/p/5211/widgets/project_thin_badge.js"></script>
    </div>
        </div>
    </footer>
        </body>
</html>
